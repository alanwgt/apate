<ion-header>

  <ion-navbar>
    <ion-title>
      <button (click)="openProfile()" icon-end>{{ username }}</button>
    </ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <div class="messages">

    <div *ngFor="let msg of messages" class="message-container mc-{{ msg.cssClass }}">

      <button *ngIf="msg.deletable" class="deletable" (click)="deleteMessage(msg.messageId)">
        <ion-icon name="close"></ion-icon>
      </button>

      <p *ngIf="!hasImage(msg)" class="msg {{ msg.cssClass }}">{{ msg.plain.trim() }}<span class="timestamp">{{ getElapsedTime(msg.timestamp) }}</span></p>

      <p *ngIf="hasImage(msg)" class="msg {{ msg.cssClass }}">
        <button icon-only class="meye" (click)="openImage(msg)">
          <ion-icon name="eye"></ion-icon>
        </button>
        <img src="/assets/imgs/picture.svg" alt="">
        <span class="timestamp timestamp-img">{{ getElapsedTime(msg.timestamp) }}</span>
      </p>

    </div>
<!--     
    <div class="message-container">
      <p class="his">Lorem ipsum dolor sit amet
        <span class="timestamp">2h</span>
      </p>
    </div>

    <div class="message-container">
        <button class="deletable" (click)="deleteMessage()">
          <ion-icon name="close"></ion-icon>
        </button>
      <p class="mine">Odio facilis corrupti itaque, nemo atque dolore maxime fugit iste ipsam rem libero incidunt omnis eaque quis tempora, suscipit quo recusandae similique.<span class="timestamp">2m</span></p>
    </div>

    <div class="message-container">
        <button class="deletable" (click)="deleteMessage()">
          <ion-icon name="close"></ion-icon>
        </button>
      <img class="mine" src="/assets/imgs/ionball.png" alt="">
    </div> -->

  </div>

  <div class="input z-depth-5">
    <ion-item>
      <ion-input placeholder="send a message..." id="messageBody" (ionChange)="onChange($event)" [(ngModel)]="messageBody" (keyup.enter)="handleSendMessage()"></ion-input>
      <button item-end ion-fab mini (click)="handleSendMessage()">
        <ion-icon name="{{sendMessageIcon}}"></ion-icon>
      </button>
    </ion-item>
  </div>

</ion-content>
